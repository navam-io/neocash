@import "tailwindcss";

@theme inline {
  /* ─── Page & Surface ─────────────────────────── */
  --color-page-bg: #faf9f5;
  --color-surface: #ffffff;
  --color-surface-hover: #f5f4ef;
  --color-surface-active: #eeedea;

  /* ─── Text ───────────────────────────────────── */
  --color-text-primary: #141413;
  --color-text-secondary: #3d3d3a;
  --color-text-tertiary: #6b6b66;
  --color-text-placeholder: #9b9b97;
  --color-text-inverse: #ffffff;

  /* ─── Borders ────────────────────────────────── */
  --color-border: rgba(31, 30, 29, 0.15);
  --color-border-hover: rgba(31, 30, 29, 0.25);
  --color-border-active: rgba(31, 30, 29, 0.35);

  /* ─── Accent (Copper / Terracotta) ───────────── */
  --color-accent: #c4704b;
  --color-accent-hover: #b5613c;
  --color-accent-light: #f5ebe5;
  --color-accent-muted: rgba(196, 112, 75, 0.12);

  /* ─── Functional ─────────────────────────────── */
  --color-success: #2d8a4e;
  --color-warning: #d4a843;
  --color-error: #c44b4b;

  /* ─── Sidebar ────────────────────────────────── */
  --color-sidebar-bg: #f0efe9;
  --color-sidebar-hover: #e8e7e1;
  --color-sidebar-active: #e0dfda;

  /* ─── Typography ─────────────────────────────── */
  --font-sans: var(--font-inter);
  --font-display: var(--font-newsreader);
  --font-mono: var(--font-jetbrains-mono);

  /* ─── Layout ─────────────────────────────────── */
  --sidebar-width: 280px;
  --sidebar-collapsed: 48px;
  --content-max-width: 672px;

  /* ─── Shadows ────────────────────────────────── */
  --shadow-input: 0 4px 20px rgba(0, 0, 0, 0.035), 0 0 0 0.5px rgba(31, 30, 29, 0.15);
  --shadow-dropdown: 0 8px 30px rgba(0, 0, 0, 0.08), 0 0 0 0.5px rgba(31, 30, 29, 0.12);
  --shadow-message: 0 1px 3px rgba(0, 0, 0, 0.02);
  --shadow-sidebar: 1px 0 0 0 rgba(31, 30, 29, 0.08);
}

/* ─── Base ─────────────────────────────────────── */
body {
  background: var(--color-page-bg);
  color: var(--color-text-primary);
  font-family: var(--font-sans);
  font-size: 16px;
  font-weight: 400;
  line-height: 1.6;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* ─── Scrollbar (Claude-like thin) ─────────────── */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: rgba(31, 30, 29, 0.15);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(31, 30, 29, 0.25);
}

/* ─── Selection ────────────────────────────────── */
::selection {
  background: var(--color-accent-muted);
  color: var(--color-text-primary);
}

/* ─── Input autoresize ─────────────────────────── */
.chat-textarea {
  field-sizing: content;
  min-height: 24px;
  max-height: 200px;
  overflow-y: auto;
  resize: none;
}

/* ─── Markdown prose ───────────────────────────── */
.prose-chat {
  font-size: 15px;
  line-height: 1.7;
}

.prose-chat p {
  margin-bottom: 0.75em;
}

.prose-chat p:last-child {
  margin-bottom: 0;
}

.prose-chat pre {
  background: #1e1e1e;
  color: #d4d4d4;
  border-radius: 8px;
  padding: 16px;
  overflow-x: auto;
  font-size: 13px;
  line-height: 1.5;
  margin: 12px 0;
}

.prose-chat code:not(pre code) {
  background: rgba(31, 30, 29, 0.06);
  padding: 2px 6px;
  border-radius: 4px;
  font-size: 0.9em;
  font-family: var(--font-mono);
}

.prose-chat ul,
.prose-chat ol {
  padding-left: 1.5em;
  margin: 0.5em 0;
}

.prose-chat li {
  margin: 0.25em 0;
}

.prose-chat h1,
.prose-chat h2,
.prose-chat h3 {
  font-weight: 600;
  margin-top: 1.25em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

.prose-chat h1 { font-size: 1.5em; }
.prose-chat h2 { font-size: 1.25em; }
.prose-chat h3 { font-size: 1.1em; }

.prose-chat blockquote {
  border-left: 3px solid var(--color-border);
  padding-left: 1em;
  color: var(--color-text-secondary);
  margin: 0.75em 0;
}

.prose-chat table {
  border-collapse: collapse;
  width: 100%;
  margin: 0.75em 0;
}

.prose-chat th,
.prose-chat td {
  border: 1px solid var(--color-border);
  padding: 8px 12px;
  text-align: left;
}

.prose-chat th {
  font-weight: 600;
  background: var(--color-surface-hover);
}

.prose-chat a {
  color: var(--color-accent);
  text-decoration: underline;
  text-underline-offset: 2px;
}

.prose-chat a:hover {
  color: var(--color-accent-hover);
}

/* ─── Loading dots animation ───────────────────── */
@keyframes dot-pulse {
  0%, 80%, 100% {
    opacity: 0.3;
    transform: scale(0.8);
  }
  40% {
    opacity: 1;
    transform: scale(1);
  }
}

.loading-dot {
  animation: dot-pulse 1.4s ease-in-out infinite;
}

.loading-dot:nth-child(2) {
  animation-delay: 0.2s;
}

.loading-dot:nth-child(3) {
  animation-delay: 0.4s;
}

/* ─── Sidebar transition ──────────────────────── */
.sidebar-transition {
  transition: width 200ms ease, opacity 150ms ease;
}

/* ─── Category tab hover ──────────────────────── */
.category-tab {
  transition: background-color 150ms ease, border-color 150ms ease;
}
